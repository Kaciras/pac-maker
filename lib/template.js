/**
 * Generated by pac-maker v__VERSION__
 * https://github.com/Kaciras/pac-maker
 *
 * Created at: __TIME__
 *
 * Learn more about PAC file:
 * https://developer.mozilla.org/en-US/docs/Web/HTTP/Proxy_servers_and_tunneling/Proxy_Auto-Configuration_PAC_file
 */

// Since browser does not support export in PAC, assign variables to global instead.
globalThis.direct = __DIRECT__;

globalThis.proxies = __PROXIES__;

globalThis.rules = __RULES__;

function FindProxyForURL(url, host) {
	let lastPos = 0;
	let domain = host;

	while (lastPos >= 0) {
		const i = rules[domain];
		if (i !== undefined) {
			return proxies[i];
		}
		lastPos = host.indexOf(".", lastPos + 1);
		domain = host.slice(lastPos + 1);
	}

	return globalThis.direct;
}
